<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
	<head>
	<meta charset="UTF-8">
	 <!-- Bootstrap CSS -->
    <link th:rel="stylesheet" th:href="@{/webjars/bootstrap/5.2.3/css/bootstrap.min.css}"/>
    <link th:rel="stylesheet" th:href="@{/webjars/font-awesome/6.2.0/css/all.min.css}"/> 
	<title>Pizzeria</title>

	</head>
	<body>
	<header th:insert="~{frag :: header-nav}"></header>
	
	<main>

	<div class="container p-3 text-center">
		<div class="d-flex col-12 justify-content-center mb-5">
			<a th:href="@{/pizza/admin/create}" sec:authorize="hasAuthority('ADMIN')" class="btn btn-danger text-uppercase">
			Create New Pizza</a>
		</div>	
	<table th:if="${!pizzas.isEmpty()}" class="table">
		<tr>
			<th scope="col">Nome</th>
		 	<th scope="col">Descrizione</th>
			<th scope="col">Prezzo</th>
			<th scope="col">Promo</th>
			<th scope="col">Ingredienti</th>
			<th sec:authorize="hasAuthority('ADMIN')" scope="col">Azioni</th>
		</tr>
		<tr th:each="pizza : ${pizzas}" th:object="${pizza}">
			<td th:text="*{nome}"></td>
			<td th:text="*{descrizione}"></td>
			<td th:text="*{prezzo}"></td>
			<td th:text="*{promozione}"></td>
			<td th:text="*{ingredienti}"></td>
			<td>
				<a th:href="@{user/{id}(id=${pizza.id})}" class="btn btn-success text-uppercase"><i class="fa-solid fa-eye"></i></a>
				<span sec:authorize="hasAuthority('ADMIN')">
				<a th:href="@{admin/update/{id}(id=${pizza.id})}" class="btn btn-primary btn-small text-uppercase"><i class="fa-solid fa-pen-to-square"></i></a>
				<a th:href="@{admin/delete/{id}(id=${pizza.id})}" class="btn btn-danger btn-small text-uppercase"><i class="fa-solid fa-trash"></i></a>
				</span>
			</td>
		</tr>
	</table>
	<h2 th:if="${pizzas.isEmpty()}" class="text-uppercase">Non ci sono pizze al momento</h2>
	</div>
	</main>
	</body>
</html>